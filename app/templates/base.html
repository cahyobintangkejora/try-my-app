<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <!-- bmt judul document / page -->
    <title>Try App - {{title}}</title>

    <!-- jQuery -->
    <script src="{{ url_for('static', filename='plugins/jquery/jquery.min.js') }}"></script>
    <!-- jQuery InputMask -->
    <script src="{{ url_for('static', filename='plugins/inputmask/jquery.inputmask.min.js')}}"></script>
    <!-- Bootstrap -->
    <script src="{{ url_for('static', filename='plugins/bootstrap/bootstrap.bundle.min.js') }}"></script>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='plugins/bootstrap/bootstrap.min.css') }}"
    />
    <!-- AdminLTE -->
    <script src="{{ url_for('static', filename='plugins/adminlte/adminlte.min.js') }}"></script>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='plugins/adminlte/adminlte.min.css') }}"
    />
    <!-- FontAwesome -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='plugins/fontawesome-free/css/all.min.css') }}"
    />
    <!-- Sweetalert2 -->
    <script src="{{ url_for('static', filename='plugins/sweetalert2/sweetalert2.min.js') }}"></script>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='plugins/sweetalert2/bootstrap-4.min.css') }}"
    />
    <!-- Toastr -->
    <script src="{{ url_for('static', filename='plugins/toastr/toastr.min.js') }}"></script>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='plugins/toastr/toastr.min.css') }}"
    />
    <!-- Bootboxjs -->
    <script src="{{ url_for('static', filename='plugins/bootboxjs/bootbox.min.js')}}"></script>
    <!-- DataTables -->
    <script src="{{ url_for('static', filename='plugins/datatables/datatables.min.js') }}"></script>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='plugins/datatables/datatables.min.css') }}"
    />
    <!-- DOMPurify -->
    <script src="{{ url_for('static', filename='plugins/dompurify/purify.min.js')}}"></script>
    <!-- Selectize -->
    <script src="{{ url_for('static', filename='plugins/selectize/selectize.min.js')}}"></script>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='plugins/selectize/selectize.bootstrap4.min.css') }}"
    />
    <!-- Select2 -->
    <script src="{{ url_for('static', filename='plugins/select2/select2.min.js')}}"></script>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='plugins/select2/select2.min.css') }}"
    />
    <!-- Flatpickr -->
    <script src="{{ url_for('static', filename='plugins/flatpickr/flatpickr.min.js')}}"></script>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='plugins/flatpickr/flatpickr.min.css') }}"
    />
    <!-- Bootstrap Custom Input File -->
    <script src="{{ url_for('static', filename='plugins/bs-custom-file-input/bs-custom-file-input.min.js')}}"></script>
    <!-- Daterangepicker (DEPRECATED, pakai flatpickr aja!) -->
    <script src="{{ url_for('static', filename='plugins/daterangepicker/daterangepicker.js')}}"></script>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='plugins/daterangepicker/daterangepicker.css') }}"
    />
    <!-- Tambahan candra -->
    <script src="{{ url_for('static', filename='others/tambahanCdr.js') }}"></script>
    <!-- Base css -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='others/base.css') }}"
    />
    <!-- Google Fonts -->
    <!-- <link rel="stylesheet"
		href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback"> -->

    <style>
      .cursor-active {
        cursor: pointer;
      }

      .toast {
        top: 75px;
      }

      div.dataTables_wrapper div.dataTables_filter input {
        margin: 0;
      }

      .nav-tabs li a {
        color: white;
      }
    </style>

    {% block head %} {% endblock head %}
  </head>

  <body
    class="sidebar-mini layout-fixed layout-navbar-fixed layout-footer-fixed text-sm accent-primary"
    data-scrollbar-auto-hide="n"
  >
    <div class="wrapper">
      <!-- start jinja navbar atas -->
      <nav
        class="main-header navbar navbar-expand"
        style="background-color: rgb(255, 255, 255)"
      >
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" data-widget="pushmenu"
              ><i class="fas fa-bars"></i
            ></a>
          </li>
        </ul>
        <div class="d-mobile-none color-white">
          <h3 class="m-0">Try My App</h3>
          <p class="m-0"></p>
        </div>
      </nav>
      <!-- end jinja navbar atas -->

      <!-- start jinja navbar samping -->
      <aside class="main-sidebar elevation-4 sidebar-light-navy">
        <a href="{{ url_for('index') }}" class="brand-link">
          <img
            src="{{ url_for('static', filename='image/icon/try.png') }}"
            alt="App Logo bos"
            class="brand-image img-circle elevation-3"
            style="opacity: 0.8"
          />
          <span class="brand-text font-weight-light"> Try App </span>
        </a>

        <div class="sidebar">
          <!-- buat menu disini -->
          <nav class="mt-3">
            <ul
              class="nav nav-pills nav-sidebar flex-column"
              data-widget="treeview"
              role="menu"
              data-accordion="false"
            >
              <li class="nav-item">
                <a href="/" class="nav-link">
                  <i class="fas fa-home nav-icon"></i>
                  <p>Dashboard</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="/kelola" class="nav-link">
                  <i class="fas fa-tasks nav-icon"></i>
                  <p>Kelola Data</p>
                </a>
              </li>
            </ul>
          </nav>
        </div>
      </aside>
      <!-- end jinja nanvar samping -->

      <!-- start jinja content-extends -->
      <div class="content-wrapper pb-30" style="min-height: unset">
        <!-- start content-extends header -->
        <div class="content-header">
          <div class="p-base">
            <h3 class="m-0 text-dark font-20 font-weight-bold">{{title}}</h3>
          </div>
        </div>
        <!-- start content-extends header -->

        <!-- start content-extends body -->
        <section class="content">
          {% block content %} {% endblock content%}
        </section>
        <!-- end content-extends body -->
      </div>
      <!-- end jinja content-extends -->

      <!-- start jinja footer -->
      <footer class="main-footer">
        {% block footer %}
        <div class="d-flex footer-responsive">
          <strong>Copyright &copy; 2023 - All rights reserved.</strong>
          <div class="ml-auto">
            <b><a class="red-alfa" href="#"></a></b>
          </div>
        </div>
        {% endblock footer %}
      </footer>
      <!-- end jinja footer -->
    </div>
    <!-- end wrapper -->

    <!-- ===== START KUMPULAN MODAL ===== -->
    <!-- Modal Loading -->
    <div
      class="modal"
      id="modalBaseLoading"
      tabindex="-1"
      role="dialog"
      aria-hidden="true"
      data-backdrop="static"
      data-keyboard="false"
      style="z-index: 9999"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-body">
            <img
              src="{{ url_for('static', filename='image/alfamart/alfamart_loading.gif') }}"
              alt="loading Logo"
              width="100%"
              height="100%"
              class="loading-image"
              style="opacity: 0.8; border-radius: 100px"
            />
          </div>
        </div>
      </div>
    </div>
    <!-- End Modal Loading -->

    <!-- Snackbar. Cara pakai: showSnackbar('Hallo, dunia!'); -->
    <div id="snackbar"></div>
    <!-- end snackbar -->
    <!-- ===== END KUMPULAN MODAL ===== -->

    <!-- start base script -->
    <script type="text/javascript">
      $(document).ready(() => {
        /*
				Remove element when (current_user) user_roles don't have the specified roles on attr `acc-roles`
			*/
        removeFormAction();
      });

      /*
			Bagian initialize plugins jika element tidak ditemukan terkadang ada error:
			"Uncaught TypeError: $(...).selectize is not a function", sehingga dibuat kondisi:
			jika ada element (length > 0) baru kita initialize.
		*/
      $(() => {
        // initialize plugin: selectize
        const _selectize = $(".selectize");
        if (_selectize.length > 0) _selectize.selectize();
        // initialize plugin: bootstrap tooltip
        const _tooltip = $('[data-toggle="tooltip"]');
        if (_tooltip.length > 0) _tooltip.tooltip();
        // initialize plugin: select2
        const _select2 = $(".select2");
        if (_select2.length > 0) _select2.select2();
        // initialize plugin: popover
        const _popover = $('[data-toggle="popover"]');
        if (_popover.length > 0) _popover.popover();
        // initialize plugin: Bootstrap Custom Input File
        bsCustomFileInput.init();

        // adjust datatable
        $('a[data-toggle="tab"]').on("shown.bs.tab", function (e) {
          $.fn.dataTable.tables({ visible: true, api: true }).columns.adjust();
        });
      });

      const swalWithBootstrapButtons = Swal.mixin({
        customClass: {
          confirmButton: "btn btn-success",
          cancelButton: "btn btn-danger mr-2",
        },
        buttonsStyling: false,
      });

      function clickMenu(idMenu, linkMenu) {
        if ($(`#akses-${idMenu}`).val() == "T") {
          document.getElementById(`menu_${idMenu}`).href = linkMenu;
        } else {
          showNotification("Anda tidak memiliki akses untuk menu ini.");
        }
      }
      function showBaseLoading() {
        $("#modalBaseLoading").modal("show");
      }

      function hideBaseLoading() {
        $("#modalBaseLoading").modal("hide");
      }

      function showNotification(text) {
        document.getElementById("modalBaseInfoText").innerHTML = text;
        $("#modalBaseInfo").modal("show");
      }

      function showSwalNotification(status, text) {
        swalWithBootstrapButtons.fire("Info", text, status);
      }

      /*
			deprecated: next module jgn pakai fungsi ini lagi!
			langsung pakai toastr.error / toastr.warning toastr.info, dll.
		*/
      function showSubNotification(status, text) {
        if (status == "danger") {
          toastr.error(text);
        } else if (status == "warning") {
          toastr.warning(text);
        } else if (status == "info") {
          toastr.info(text);
        } else {
          toastr.success(text);
        }
      }

      function showNotificationSuccess(text, link) {
        swalWithBootstrapButtons
          .fire({
            title: text,
            icon: "success",
            confirmButtonText: "OK",
          })
          .then(function () {
            window.location.href = link;
          });
      }

      function showNotifWarning(text) {
        swalWithBootstrapButtons.fire("Info", text, "warning");
      }

      function numformat(nStr) {
        if (nStr == "0") {
          nStr = "0";
        }
        nStr += "";
        x = nStr.split(".");
        x1 = x[0];
        x2 = x.length > 1 ? "," + x[1] : "";
        var rgx = /(\d+)(\d{3})/;
        while (rgx.test(x1)) {
          x1 = x1.replace(rgx, "$1" + "." + "$2");
        }
        return x1 + x2;
      }

      function checkNoneNum(value) {
        if (
          value == "None" ||
          value == "" ||
          value == null ||
          value == "null"
        ) {
          return "0";
        } else {
          return value;
        }
      }

      function checkNone(value) {
        if (
          value == "None" ||
          value == "" ||
          value == null ||
          value == "null"
        ) {
          return "None";
        } else {
          return value;
        }
      }

      function checkDate(value) {
        if (value != "") {
          const date = new Date(value);
          var newDate = date.getDate();
          var newMonth = date.getMonth() + 1;
          var newYear = date.getFullYear();
        }
        return (formatNewDate = newDate + "-" + newMonth + "-" + newYear);
      }
    </script>
    <!-- end base script -->

    <!-- start script tambahan dari halaman extends -->
    {% block script %} {% endblock script %}
    <!-- end script tambahan dari halaman extends -->
  </body>
</html>

<!-- Jinja: Flask Message Flashing -->
{% with messages = get_flashed_messages(with_categories = true) %} {% if
messages %} {% for message in messages %}
<script type="text/javascript">
  const status = "{{ message[0] }}";
  const message = `{{ message[1] | safe}}`;
  messageAlert(status, message);
</script>
{% endfor %} {% endif %} {% endwith %}
